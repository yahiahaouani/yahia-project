<!-- HEADER identique Ã  home.html -->
<header class="navbar">
  <div class="left">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png" alt="Logo" class="logo-img" />
      <span>My Meuble</span>
    </div>
    <div class="contact">Contactez-nous : +216 95 256 096</div>
    <div>DÃ©veloppÃ© par l'ingÃ©nieur Yahia Haouani</div>
  </div>

  <nav>
    <a (click)="router.navigate(['/favoris'])" style="cursor: pointer;">
      <img src="https://cdn-icons-png.flaticon.com/512/1077/1077035.png" class="nav-icon" />
      Mes favoris
    </a>

    <ng-container *ngIf="user; else loginLink">
      <div class="user-info">
        <img src="https://cdn-icons-png.flaticon.com/512/1946/1946429.png" class="nav-icon" alt="user" style="width: 24px;" />
        <span>{{ user.nom }}</span>
        <button (click)="authService.logout(); router.navigate(['/login'])" style="margin-left: 10px; background: none; border: none; color: red; cursor: pointer;">
          DÃ©connexion
        </button>
      </div>
    </ng-container>

    <ng-template #loginLink>
      <a routerLink="/login">
        <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" class="nav-icon" />
        Se connecter
      </a>
    </ng-template>

    <button class="btn-deposer" (click)="router.navigate(['/deposer'])">
      <img src="https://cdn-icons-png.flaticon.com/512/1828/1828919.png" class="nav-icon" />
      DÃ©poser une annonce
    </button>
  </nav>
</header>

<!-- CONTENU PRINCIPAL -->
<div class="favoris-container" style="max-width: 1000px; margin: 20px auto; padding: 0 10px;">

  <h1>Mes favoris</h1>

  <div *ngIf="isLoading" style="text-align:center; margin: 40px 0;">
    Chargement en cours...
  </div>

  <div *ngIf="!isLoading && favoris.length === 0" style="text-align:center; margin: 40px 0; color: #888;">
    Vous n'avez aucun favori pour le moment.
  </div>

  <div *ngIf="!isLoading && favoris.length > 0" class="annonces" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
    <div class="annonce-card" *ngFor="let annonce of favoris" style="width: 280px; border: 1px solid #ddd; padding: 10px; position: relative;">
      <img 
        [src]="annonce.photos.length > 0 ? annonce.photos[0] : 'https://via.placeholder.com/280x180?text=Pas+de+photo'" 
        alt="image annonce" 
        style="width: 100%; height: 180px; object-fit: cover; border-radius: 4px; cursor: pointer;"
        (click)="allerDetail(annonce)"
      />

      <!-- Bouton supprimer favori -->
      <button (click)="enleverFavori(annonce)" aria-label="Supprimer des favoris" style="position: absolute; top: 10px; right: 10px; background: none; border: none; cursor: pointer;">
        <img src="https://cdn-icons-png.flaticon.com/512/6861/6861362.png" alt="Supprimer favori" style="width: 24px; filter: invert(0.5);" />
      </button>

      <div class="annonce-info" style="margin-top: 10px;">
        <h2 style="font-size: 1.1rem; margin-bottom: 5px; cursor: pointer;" (click)="allerDetail(annonce)">{{ annonce.titre }}</h2>
        <p class="categorie" style="font-style: italic; color: #555;">{{ annonce.categorie }}</p>
        <p class="prix" style="font-weight: bold; color: #222;">{{ annonce.prix | number }} DT</p>
        <p class="localisation" style="color: #666;">{{ annonce.ville }} - {{ annonce.region }}</p>
        <p class="telephone" style="color: #333; font-weight: 600;">ðŸ“ž {{ annonce.telephone }}</p>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER identique Ã  home.html -->
<footer class="footer" style="background:#ff6600; padding: 20px; margin-top: 30px; text-align: center; font-size: 0.9rem; color: #666;">
  <div>Contactez-nous : +216 95 256 096 | Instagram : @mymeuble | Facebook : My Meuble | WhatsApp : +216 95 256 096</div>
  <div style="margin-top: 10px;">&copy; 2025 My Meuble - DÃ©veloppÃ© par Yahia Haouani</div>
</footer>
